<ol class="breadcrumb">
  <li><a href="#">Admin</a></li>
  <li><a href="#/admin/server">Servers</a></li>
  <li class="active">{{server.hostname}}</li>
</ol>


<div ng-if="error" class="alert alert-danger" role="alert">{{error}}</div>
<div ng-if="debug" class="alert alert-warning" role="alert">{{debug}}</div>


<h3>Edit/Add Server</h3>

<div class="well">
  <form class="form-horizontal" role="form">
    <div class="form-group ">
      <label for="hostname" class="col-sm-2 control-label">Hostname</label>

      <div class="col-sm-10">
        <input type="text" class="form-control" ng-model="server.hostname" id="hostname"
               placeholder="Hostname" required>
      </div>
    </div>
    <div class="form-group ">
      <label for="ip_address" class="col-sm-2 control-label">ip address</label>

      <div class="col-sm-10">
        <input type="text" class="form-control" ng-model="server.ip_address" id="ip_address"
               placeholder="ip address">
      </div>
    </div>
    <div class="form-group ">
      <label for="comments" class="col-sm-2 control-label">comments</label>

      <div class="col-sm-10">
        <input type="text" class="form-control" ng-model="server.comments" id="comments"
               placeholder="comments">
      </div>
    </div>
    <div class="form-group ">
      <label for="os" class="col-sm-2 control-label">Operating System</label>

      <div class="col-sm-10">
        <select class="form-control" ng-model="server.os" id="os">
          <option ng-repeat="o in os" value="{{o}}">{{o}}</option>
        </select>
      </div>
    </div>

    <button class="btn btn-info" ng-click="addService()">Add Service</button>
    <table class="table">
      <thead>
      <tr>
        <td>Service Type</td>
        <td>Port</td>
        <td>Comments</td>
        <td>Instances</td>
        <td>Monitor URL</td>
        <td>Log URL</td>
        <td>Delete</td>
      </tr>
      </thead>
      <tbody>
      <tr ng-repeat="service in server.services">
        <td><select ng-model="service.type">
          <option ng-selected="service.type==st" ng-repeat="st in service_type" value="{{st}}">{{st}}</option>
        </select></td>
        <td><input ng-model="service.port"></td>
        <td><input ng-model="service.comments"></td>
        <td><input ng-model="service.instances"></td>
        <td><input ng-model="service.monitor_url"></td>
        <td><input ng-model="service.log_url"></td>
        <td>
          <button class="btn btn-warning" ng-click="deleteService($index)">Delete</button>
        </td>
      </tr>
      </tbody>
    </table>

    <div class="form-group">
      <div class="btn-group">
        <button style="width: 40%;" ng-click="save();" class="btn btn-info">Save</button>
        <a style="width: 40%;" href="#/admin/server" class="btn btn-warning">Cancel</a>
      </div>
    </div>

  </form>
</div>
